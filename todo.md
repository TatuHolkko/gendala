refactor reference passing, no line should share points
multiple feature patterns for layer
comments
detail allocation points
image saving
if performance becomes issue, remove unneccessary deep copies
refactor repeated pattern rendering -> no need to repeat the pattern in memory
